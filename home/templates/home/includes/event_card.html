{% load static i18n wagtailcore_tags %}
{# Load the tag library #}
{% load django_bootstrap5 %}

{% block content %}
<div class="col col-lg-3 col-md-4 col-sm-6 col-12">
    <div class="card text-align-left" style="width: auto">
        <div class="card-header">
            <h5 class="card-title">{{ event.title }}</h5>
            <substitle>{{ event.start_time|date:"Y/m/d" }}</substitle>
        </div>
        {# TODO: Add default image when no event image is selected #}
        {% if event.cover_image %}
        <img
        src="{{ event.cover_image.url }}"
        class="card-img-top event-card-img"
        alt=""
        >
        {% else %}
        <img
        src="https://images.unsplash.com/photo-1612299273045-362a39972259?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1771&q=80"
        class="card-img-top event-card-img"
        alt="person with brown skin and facial hair and locs wearing black tshirt sitting at table smiling at screen of mac with a white mug next to them"
        >
        {% endif %}
        {# Photo by Good Faces on Unsplash #}
        {# https://unsplash.com/backgrounds/apps/zoom?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText #}
        <div class="card-body">
          {% include 'home/includes/event_categories.html' %}
          <p class="card-text pt-4">{{ event.description }}</p>
        {% include 'home/includes/event_team.html' %}
        </div>
        <div class="card-footer">
            <a href="{{ event.get_absolute_url }}" class="btn btn-primary">About</a>
              {% if show_rsvp and event.accepting_rsvps %}
                {% if user in event.rsvped_members.all %}
                <a href="{{ event.get_absolute_url }}?rsvp=false" class="btn btn-secondary">Cancel RSVP</a>
                {% else %}
                <a href="{{ event.get_absolute_url }}?rsvp=true" class="btn btn-primary">Register</a>
                {% endif %}
              {% endif %}
        </div>
      </div>
</div>
{% endblock content %}