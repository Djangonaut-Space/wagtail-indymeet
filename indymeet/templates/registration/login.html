{% extends "base.html" %}
{% load i18n wagtailcore_tags bootstrap3 static %}

{% block title %}{% translate "Login | Djangonaut Space" %}{% endblock %}
{% block meta_title %}{% translate "Login | Djangonaut Space" %}{% endblock %}


{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/registration.css' %}">
{% endblock extra_css %}

{% block content %}
<main class="section my-3 mx-5">
    <div class="section-container">
        {% if next %}
            <div class="row pt-4 pb-4">
                <div class="col">
                {% if user.is_authenticated %}
                    <p>{% translate "Your account doesn't have access to this page. To proceed, please login with an account that has access." %}</p>
                {% else %}
                    <p>{% translate "Please login to see this page." %}</p>
                {% endif %}
                </div>
            </div>
        {% endif %}
        {% if form.errors and not form.non_field_errors %}
          <div class="alert alert-danger">
          {% for key, error in form.errors.items %}
          <p> {{ key }}:{{ error }}</p>
          {% endfor %}
          </div>
          {% endif %}

        <div class="row">
          <div class="col">
            <form method="post">
              {% csrf_token %}

              {% bootstrap_form form layout="horizontal" %}
              <button type="submit" class="bg-purple-500 hover:bg-purple-400 no-underline text-white font-bold py-2 px-4 rounded">Login</button>
              <input type="hidden" name="next" value="{{ next }}">
            </form>
          </div>
          <div class="row pt-4 pb-4">
            <div class="col">
                <p>{% translate "Forgotten your password?" %}<a class="link" href="{% url 'password_reset' %}">{% translate "Reset password." %}</a></p>
            </div>
          </div>
          <div class="col"></div>
        </div>
    </div>
</main>
{% endblock content %}
